'use client'

import { useState, useEffect } from 'react'

const heroSlides = [
  {
    id: 1,
    image: '/images/hero/0_3 (10).jpeg',
    title: 'GOMANIC × UNHAS',
    subtitle: 'Manicure premium pela metade do preço',
    content: 'Descubra o mundo VIP da manicure profissional com preços exclusivos para membros.'
  },
  {
    id: 2,
    image: '/images/hero/123.jpeg',
    title: 'PREÇOS VIP',
    subtitle: 'Economia de até 50% em todos os serviços',
    services: [
      { name: 'Manicure + nivelamento + esmaltação em gel', oldPrice: 160, newPrice: 80 },
      { name: 'Alongamento + manicure + esmaltação em gel', oldPrice: 200, newPrice: 119 },
      { name: 'Combo: manicure + esmaltação em gel + pedicure + plástica dos pés', oldPrice: 320, newPrice: 160 }
    ]
  },
  {
    id: 3,
    image: '#808080',
    photo: '/images/hero/0_2 (7).jpeg',
    title: 'Por que vale a pena o Passe VIP',
    benefits: [
      'Preço fixo mesmo se a promoção acabar.',
      'Garantia de vaga.',
      'Serviço bônus na visita.'
    ],
    urgency: 'Restam apenas 3 vagas',
    mainButton: { text: 'RESERVAR AGORA', id: 'agendamento', urgent: true },
    secondaryButton: { text: 'FALAR NO WHATSAPP', action: 'whatsapp' }
  }
]

export default function HeroSection() {
  const [currentSlide, setCurrentSlide] = useState(0)
  const [isPlaying, setIsPlaying] = useState(true)

  useEffect(() => {
    if (!isPlaying) return
    const slideInterval = setInterval(() => {
      setCurrentSlide((prev) => (prev + 1) % heroSlides.length)
    }, 7000)
    return () => clearInterval(slideInterval)
  }, [isPlaying])

  const goToSlide = (index: number) => {
    setCurrentSlide(index)
  }

  const nextSlide = () => {
    setCurrentSlide((prev) => (prev + 1) % heroSlides.length)
  }

  const handleButtonAction = (action: string, id?: string) => {
    if (action === 'next') {
      nextSlide()
    } else if (action === 'whatsapp') {
      window.open('https://wa.me/5511999999999', '_blank')
    } else if (id) {
      document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' })
    }
  }

  const currentSlideData = heroSlides[currentSlide]

  return (
    <section 
      id="hero" 
      className="h-screen relative overflow-hidden flex items-center"
      onMouseEnter={() => setIsPlaying(false)}
      onMouseLeave={() => setIsPlaying(true)}
    >
      <div className="absolute inset-0 w-full h-full z-0">
        {heroSlides.map((slide, index) => (
          <div
            key={slide.id}
            className={`absolute inset-0 w-full h-full transition-opacity duration-1000 ${
              index === currentSlide ? 'opacity-100' : 'opacity-0'
            }`}
          >
            {slide.image.startsWith('#') ? (
              <div className="w-full h-full" style={{ backgroundColor: slide.image }}></div>
            ) : (
              <img src={slide.image} alt={`Slide ${slide.id}`} className="w-full h-full object-cover" />
            )}
          </div>
        ))}
      </div>

      {currentSlide === 2 ? (
        <div className="absolute inset-0" style={{ backgroundColor: '#808080' }}></div>
      ) : (
        <div className="absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"></div>
      )}

      <div className="vogue-container relative z-20 w-full">
        <div className="max-w-6xl mx-auto text-center lg:text-left px-4">
          
          {currentSlideData.id === 1 && (
            <div key="slide1" className="animate-fade-in flex items-center justify-center min-h-screen">
              <div className="max-w-4xl mx-auto text-center">
                <div className="mb-12">
                  <h1 style={{
                    fontFamily: 'Horizon, Arial, sans-serif',
                    fontSize: 'clamp(4rem, 12vw, 7rem)',
                    fontWeight: 'normal',
                    letterSpacing: '0.05em',
                    textTransform: 'uppercase',
                    lineHeight: '0.9',
                    color: '#FEFEFE',
                    textShadow: '0 4px 20px rgba(0,0,0,0.5)',
                    marginBottom: '0'
                  }}>
                    GOMANIC
                  </h1>
                  <div style={{
                    fontFamily: 'Horizon, Arial, sans-serif',
                    fontSize: 'clamp(4rem, 12vw, 7rem)',
                    fontWeight: 'normal',
                    letterSpacing: '0.05em',
                    textTransform: 'uppercase',
                    lineHeight: '0.9',
                    color: '#FEFEFE',
                    textShadow: '0 4px 20px rgba(0,0,0,0.5)',
                    marginTop: '-1rem'
                  }}>
                    UNHAS
                  </div>
                </div>
                
                <div className="mb-8">
                  <p style={{
                    fontFamily: 'Garet, sans-serif',
                    fontSize: 'clamp(1.5rem, 4vw, 2.25rem)',
                    fontWeight: 600,
                    color: '#FEFEFE',
                    textShadow: '0 2px 10px rgba(0,0,0,0.4)',
                    lineHeight: '1.2',
                    marginBottom: '0'
                  }}>
                    Manicure premium pela metade do preço
                  </p>
                </div>
                
                <div className="mb-12">
                  <p style={{
                    fontFamily: 'Garet, sans-serif',
                    fontSize: 'clamp(1.125rem, 2.5vw, 1.375rem)',
                    fontWeight: 400,
                    color: '#FEFEFE',
                    opacity: 0.85,
                    textShadow: '0 1px 5px rgba(0,0,0,0.3)',
                    lineHeight: '1.5',
                    maxWidth: '600px',
                    margin: '0 auto'
                  }}>
                    {currentSlideData.content}
                  </p>
                </div>
                
                <div className="flex flex-col sm:flex-row gap-6 justify-center items-center">
                  <button 
                    onClick={() => handleButtonAction('scroll', 'agendamento')}
                    className="transition-all duration-300 hover:scale-105"
                    style={{
                      backgroundColor: '#3B3B3A',
                      border: 'none',
                      borderRadius: '6px',
                      padding: '16px 32px',
                      fontFamily: 'Garet, sans-serif',
                      fontSize: '15px',
                      fontWeight: 600,
                      letterSpacing: '0.05em',
                      textTransform: 'uppercase',
                      color: '#FEFEFE',
                      cursor: 'pointer',
                      minWidth: '280px',
                      boxShadow: '0 8px 32px rgba(0,0,0,0.3)'
                    }}
                  >
                    QUERO SER VIP
                  </button>
                  
                  <button 
                    onClick={() => handleButtonAction('next')}
                    className="transition-all duration-300 hover:scale-105"
                    style={{
                      backgroundColor: 'transparent',
                      border: '2px solid rgba(255, 255, 255, 0.4)',
                      borderRadius: '6px',
                      padding: '14px 32px',
                      fontFamily: 'Garet, sans-serif',
                      fontSize: '15px',
                      fontWeight: 400,
                      letterSpacing: '0.05em',
                      textTransform: 'uppercase',
                      color: '#FEFEFE',
                      cursor: 'pointer',
                      minWidth: '200px'
                    }}
                  >
                    SABER MAIS
                  </button>
                </div>
              </div>
            </div>
          )}

          {currentSlideData.id === 2 && (
            <div key="slide2" className="animate-fade-in flex items-center justify-center min-h-screen">
              <div className="max-w-6xl w-full mx-auto">
                
                {/* Single glassmorphism card - bigger */}
                <div className="relative backdrop-blur-xl bg-white/12 rounded-2xl border border-white/25 p-12 shadow-[0_32px_64px_rgba(0,0,0,0.5)]">
                  
                  {/* Glassmorphism layers */}
                  <div className="absolute inset-0 bg-gradient-to-br from-white/15 via-white/5 to-transparent rounded-2xl"></div>
                  <div className="absolute inset-0 bg-gradient-to-tl from-black/20 via-transparent to-black/10 rounded-2xl"></div>
                  
                  <div className="relative z-10">
                    <div className="grid lg:grid-cols-2 gap-12 items-center">
                      
                      {/* Left side - Text and CTA */}
                      <div className="text-left">
                        <div className="inline-flex items-center mb-6 px-5 py-3 rounded-full bg-white/25 backdrop-blur-md border border-white/40 shadow-lg">
                          <span style={{
                            fontFamily: 'Garet, sans-serif',
                            fontSize: '13px',
                            fontWeight: 600,
                            letterSpacing: '0.1em',
                            textTransform: 'uppercase',
                            color: '#FEFEFE'
                          }}>
                            EXCLUSIVO VIP
                          </span>
                        </div>
                        
                        <h1 style={{
                          fontFamily: 'Horizon, Arial, sans-serif',
                          fontSize: 'clamp(2.5rem, 5vw, 3.5rem)',
                          fontWeight: 'normal',
                          letterSpacing: '0.05em',
                          textTransform: 'uppercase',
                          lineHeight: '0.9',
                          color: '#FEFEFE',
                          textShadow: '0 4px 20px rgba(0,0,0,0.5)',
                          marginBottom: '16px'
                        }}>
                          PREÇOS VIP
                        </h1>
                        
                        <p style={{
                          fontFamily: 'Garet, sans-serif',
                          fontSize: '18px',
                          fontWeight: 500,
                          color: '#FEFEFE',
                          textShadow: '0 2px 10px rgba(0,0,0,0.4)',
                          marginBottom: '32px',
                          lineHeight: '1.4'
                        }}>
                          Economia de até 50% em todos os serviços
                        </p>
                        
                        <div className="flex flex-col gap-4">
                          <button 
                            onClick={() => handleButtonAction('scroll', 'agendamento')}
                            className="transition-all duration-300 hover:scale-105"
                            style={{
                              backgroundColor: '#3B3B3A',
                              border: 'none',
                              borderRadius: '6px',
                              padding: '16px 32px',
                              fontFamily: 'Garet, sans-serif',
                              fontSize: '15px',
                              fontWeight: 600,
                              letterSpacing: '0.05em',
                              textTransform: 'uppercase',
                              color: '#FEFEFE',
                              cursor: 'pointer',
                              width: '100%',
                              boxShadow: '0 8px 32px rgba(0,0,0,0.3)'
                            }}
                            onMouseEnter={(e) => {
                              e.currentTarget.style.backgroundColor = '#444e55'
                            }}
                            onMouseLeave={(e) => {
                              e.currentTarget.style.backgroundColor = '#3B3B3A'
                            }}
                          >
                            GARANTIR DESCONTO
                          </button>
                          
                          <button 
                            onClick={() => handleButtonAction('scroll', 'portfolio')}
                            className="transition-all duration-300 hover:scale-105"
                            style={{
                              backgroundColor: 'transparent',
                              border: '2px solid rgba(255, 255, 255, 0.4)',
                              borderRadius: '6px',
                              padding: '14px 32px',
                              fontFamily: 'Garet, sans-serif',
                              fontSize: '15px',
                              fontWeight: 400,
                              letterSpacing: '0.05em',
                              textTransform: 'uppercase',
                              color: '#FEFEFE',
                              cursor: 'pointer',
                              width: '100%'
                            }}
                            onMouseEnter={(e) => {
                              e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.1)'
                              e.currentTarget.style.borderColor = '#FEFEFE'
                            }}
                            onMouseLeave={(e) => {
                              e.currentTarget.style.backgroundColor = 'transparent'
                              e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.4)'
                            }}
                          >
                            VER PORTFÓLIO
                          </button>
                        </div>
                      </div>

                      {/* Right side - Price list */}
                      <div className="text-left">
                        <div className="space-y-8">
                          {currentSlideData.services?.map((service, index) => (
                            <div key={index}>
                              <div style={{
                                fontFamily: 'Horizon, Arial, sans-serif',
                                fontSize: '17px',
                                fontWeight: 'normal',
                                color: '#FEFEFE',
                                opacity: 0.9,
                                marginBottom: '8px',
                                lineHeight: '1.3',
                                textTransform: 'uppercase',
                                letterSpacing: '0.02em'
                              }}>
                                {service.name}
                              </div>
                              <div className="flex items-center gap-4">
                                <span style={{
                                  fontFamily: 'Garet, sans-serif',
                                  fontSize: '16px',
                                  fontWeight: 400,
                                  color: '#FEFEFE',
                                  opacity: 0.5,
                                  textDecoration: 'line-through'
                                }}>
                                  R$ {service.oldPrice}
                                </span>
                                <span style={{
                                  fontFamily: 'Horizon, Arial, sans-serif',
                                  fontSize: '17px',
                                  fontWeight: 'normal',
                                  color: '#3B3B3A',
                                  backgroundColor: '#FEFEFE',
                                  padding: '4px 12px',
                                  borderRadius: '8px',
                                  boxShadow: '0 2px 8px rgba(0,0,0,0.2)'
                                }}>
                                  R$ {service.newPrice}
                                </span>
                              </div>
                              {index < currentSlideData.services!.length - 1 && (
                                <div className="w-full h-px bg-white/15 mt-6"></div>
                              )}
                            </div>
                          ))}
                        </div>
                      </div>

                    </div>
                  </div>
                </div>

              </div>
            </div>
          )}

          {currentSlideData.id === 3 && (
            <div key="slide3" className="animate-fade-in">
              <div className="grid lg:grid-cols-2 gap-16 items-center min-h-[80vh]">
                <div className="text-center lg:text-left">
                  <div className="relative backdrop-blur-xl bg-white/10 rounded-3xl border border-white/20 p-8 shadow-2xl">
                    <div className="absolute inset-0 bg-gradient-to-br from-red-500/20 via-transparent to-red-500/5 rounded-3xl"></div>
                    <div className="relative z-10">
                      <div className="mb-6 text-center">
                        <span style={{fontSize: '3rem'}}>⚠️</span>
                      </div>
                      
                      <h1 className="mb-6 text-center" style={{
                        fontFamily: 'Horizon, Arial, sans-serif',
                        fontSize: 'clamp(2.5rem, 6vw, 3.5rem)',
                        fontWeight: 'normal',
                        letterSpacing: '0.05em',
                        textTransform: 'uppercase',
                        lineHeight: '0.9',
                        color: '#ff6b6b'
                      }}>
                        {currentSlideData.title}
                      </h1>
                      
                      <p className="mb-6 text-center" style={{
                        fontFamily: 'Garet, sans-serif',
                        fontSize: 'clamp(1.25rem, 3vw, 1.75rem)',
                        fontWeight: 600,
                        color: '#FEFEFE'
                      }}>
                        {currentSlideData.subtitle}
                      </p>
                      
                      <p className="text-center" style={{
                        fontFamily: 'Garet, sans-serif',
                        fontSize: 'clamp(1rem, 2.5vw, 1.25rem)',
                        fontWeight: 400,
                        color: '#FEFEFE',
                        opacity: 0.9,
                        lineHeight: '1.5'
                      }}>
                        {currentSlideData.content}
                      </p>
                    </div>
                  </div>
                </div>

                <div className="text-left">
                  <div className="relative backdrop-blur-xl bg-white/10 rounded-3xl border border-white/20 p-8 shadow-2xl">
                    <div className="absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-white/5 rounded-3xl"></div>
                    <div className="relative z-10">
                      <h2 className="mb-6" style={{
                        fontFamily: 'Horizon, Arial, sans-serif',
                        fontSize: 'clamp(1.75rem, 4vw, 2.5rem)',
                        fontWeight: 'normal',
                        letterSpacing: '0.05em',
                        textTransform: 'uppercase',
                        lineHeight: '0.9',
                        color: '#FEFEFE'
                      }}>
                        QUALIDADE PREMIUM
                      </h2>
                      
                      <div className="grid grid-cols-1 gap-4 mb-8">
                        {currentSlideData.benefits?.map((benefit, index) => (
                          <div key={index} className="flex items-center gap-3">
                            <span style={{color: '#444e55', fontSize: '1.25rem'}}>✓</span>
                            <span style={{
                              fontFamily: 'Garet, sans-serif',
                              fontSize: '16px',
                              fontWeight: 400,
                              color: '#FEFEFE'
                            }}>
                              {benefit}
                            </span>
                          </div>
                        ))}
                      </div>
                      
                      <div className="flex flex-col gap-4">
                        <button 
                          onClick={() => handleButtonAction('scroll', 'agendamento')}
                          className="animate-pulse transition-all duration-300 hover:scale-105"
                          style={{
                            backgroundColor: '#ff6b6b',
                            border: 'none',
                            borderRadius: '6px',
                            padding: '18px 32px',
                            fontFamily: 'Garet, sans-serif',
                            fontSize: '16px',
                            fontWeight: 700,
                            letterSpacing: '0.05em',
                            textTransform: 'uppercase',
                            color: '#FEFEFE',
                            cursor: 'pointer',
                            width: '100%',
                            boxShadow: '0 8px 32px rgba(255, 107, 107, 0.4)'
                          }}
                        >
                          RESERVAR AGORA
                        </button>
                        
                        <button 
                          onClick={() => handleButtonAction('whatsapp')}
                          className="transition-all duration-300 hover:scale-105"
                          style={{
                            backgroundColor: 'transparent',
                            border: '2px solid rgba(255, 255, 255, 0.4)',
                            borderRadius: '6px',
                            padding: '16px 32px',
                            fontFamily: 'Garet, sans-serif',
                            fontSize: '15px',
                            fontWeight: 400,
                            letterSpacing: '0.05em',
                            textTransform: 'uppercase',
                            color: '#FEFEFE',
                            cursor: 'pointer',
                            width: '100%'
                          }}
                        >
                          FALAR NO WHATSAPP
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          )}

        </div>
      </div>

      <div className="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-30">
        <div className="text-center">
          <span className="text-sm" style={{
            color: '#FEFEFE', 
            opacity: 0.8,
            fontFamily: 'Garet, sans-serif',
            fontWeight: 400,
            fontSize: '16px'
          }}>
            {currentSlide + 1} / {heroSlides.length}
          </span>
        </div>
      </div>

      <button
        onClick={() => goToSlide((currentSlide - 1 + heroSlides.length) % heroSlides.length)}
        className="absolute left-8 top-1/2 transform -translate-y-1/2 z-30 w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300"
      >
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <polyline points="15,18 9,12 15,6"></polyline>
        </svg>
      </button>

      <button
        onClick={() => goToSlide((currentSlide + 1) % heroSlides.length)}
        className="absolute right-8 top-1/2 transform -translate-y-1/2 z-30 w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300"
      >
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <polyline points="9,6 15,12 9,18"></polyline>
        </svg>
      </button>

      <style jsx>{`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.8s ease-out;
        }
      `}</style>
    </section>
  )
}
